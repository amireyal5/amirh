document.addEventListener("DOMContentLoaded",function(){const t=document.querySelector(".custom-menu-toggle"),e=document.querySelector(".custom-menu-list");t&&e?(console.log("JS: Custom menu elements found. Initializing menu logic."),window.innerWidth<=768?(e.style.display="none",t.setAttribute("aria-expanded","false"),console.log("JS: Menu initialized hidden on mobile.")):(e.style.display="",e.classList.remove("open"),t.removeAttribute("aria-expanded"),console.log("JS: Menu initialized for desktop.")),t.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),console.log("JS: Custom menu toggle clicked!");const n=this.getAttribute("aria-expanded")==="true";this.setAttribute("aria-expanded",!n),e.classList.toggle("open"),e.classList.contains("open")?(e.style.display="flex",console.log('JS: Menu opened via direct style.display = "flex".')):(e.style.display="none",console.log('JS: Menu closed via direct style.display = "none".'))}),e.querySelectorAll(".custom-menu-item a").forEach(n=>{n.addEventListener("click",function(){console.log("JS: Menu link clicked, closing menu."),window.innerWidth<=768&&(t.setAttribute("aria-expanded","false"),e.classList.remove("open"),e.style.display="none")})}),document.addEventListener("click",function(n){window.innerWidth<=768&&e.classList.contains("open")&&!e.contains(n.target)&&!t.contains(n.target)&&(t.setAttribute("aria-expanded","false"),e.classList.remove("open"),e.style.display="none",console.log("JS: Clicked outside. Menu closed."))}),window.addEventListener("resize",function(){window.innerWidth>768?(e.style.display="",e.classList.remove("open"),t.removeAttribute("aria-expanded"),console.log("JS: Resized to desktop, menu reset.")):(e.classList.contains("open")||(e.style.display="none"),t.setAttribute("aria-expanded","false"),console.log("JS: Resized to mobile."))})):console.error("JS ERROR: Could not find custom menu toggle (.custom-menu-toggle) or menu list (.custom-menu-list). Please check your HTML classes.")})